library(flexdashboard)
library(rio)
library(ggplot2)
library(tidyverse)
library(here)
library(gtsummary)
library(kableExtra)
library(plotly)
library(gapminder)
library(ggtext)
library(gganimate)
library(magick)
library(dplyr)
library(tidyr)
library(viridis)
woman <- import(here("data", "BL_v3_F2564.csv"))%>%
as.tibble()
library(flexdashboard)
library(rio)
library(ggplot2)
library(tidyverse)
library(here)
library(gtsummary)
library(kableExtra)
library(plotly)
library(gapminder)
library(ggtext)
library(gganimate)
library(magick)
library(dplyr)
library(tidyr)
library(viridis)
woman <- import(here("BL_v3_F2564.csv"))%>%
as.tibble()
child <- import(here("childbearing.csv"))%>%
as.tibble()
child$country <- child$`Region, subregion, country or area *`
child$year <- child$Year
### combine dataset
d <- left_join(woman, child, join_by(country, year))
d <- d[, -c(21, 22)]
d$childbearing <- as.numeric(d$`Mean Age Childbearing (years)`)
d<- d %>%
group_by(country) %>%
mutate(Mean.year.of.childbearing = mean(childbearing))
head(d)
### rename variables
d <- d %>%
rename("No_formal" = "lu",
"Primary" = "lp",
"Primary_complete" = "lpc",
"Secondary" = "ls",
"Secondary_complete" = "lsc",
"Tertiary" = "lh",
"Tertiary_complete" = "lhc",
"Schooling.year" = "yr_sch",
"Average.tertiary.schooling" = "yr_sch_ter",
"Region" = "region_code",
"Population" = "pop"
)
head(d)
sapply(d, function(x) sum(is.na(x)))
dclean <- d %>%
drop_na()
